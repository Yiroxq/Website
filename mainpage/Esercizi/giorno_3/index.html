<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Tipografia animata</title>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;   /* blocca lo scroll */
      height: 100%;
      background: red;    /* sfondo rosso */
    }

    canvas {
      display: block;
    }
  </style>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"></script>
</head>

<body>

<script>
/* COORDINATE DELLA LETTERA A */
const k = [
  3.50, 0.00,
  7.00, 10.00,
  5.50, 10.00,
  4.50, 7.00,
  2.50, 7.00,
  1.50, 10.00,
  0.00, 10.00,
  3.50, 0.00
];

let cx, cy; // posizione dellâ€™animazione

function setup() {
  createCanvas(windowWidth, windowHeight);
  cx = width / 2;
  cy = height / 2;
}

function draw() {
  background(255, 0, 0);

  stroke(0);
  noFill();

  /* La lettera segue il mouse con un movimento morbido */
  cx += (mouseX - cx) * 0.05;
  cy += (mouseY - cy) * 0.05;

  translate(cx, cy);

  const num = 60;

  for (let i = 0; i < num; i++) {
    push();

    rotate(sin((frameCount + (i + 1)) * 0.03));

    const s = (min(width, height) * 0.12) + (num - i) * 4;

    beginShape();
    for (let j = 0; j < k.length; j += 2) {
      const x1 = (k[j]   - 3.25) * s;
      const y1 = (k[j+1] - 6)    * s;
      vertex(x1, y1);
    }
    endShape(CLOSE);

    pop();
  }
}

function windowResized() {
  resizeCanvas(windowWidth, windowHeight);
}
</script>

</body>
</html>
